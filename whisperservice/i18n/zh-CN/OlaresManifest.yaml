metadata:
  title: Whisper API
  description: 基于 WhisperX 的 FastAPI 服务

spec:
  fullDescription: |
    whisperX API 是一款用于增强和分析音频内容的工具。该 API 提供了一套用于处理音频和视频文件的服务，包括转录、对齐、说话人分割以及将转录内容与二值化结果合并。

    可用服务
    # 语音转文本 (/speech-to-text)
    - 上传音频/视频文件进行转录
    - 支持多种语言和 Whisper 模型

    # 语音转文本 URL (/speech-to-text-url)
    - 从 URL 转录音频/视频
    - 与直接上传功能相同

    # 单个服务：
    - 转录 (/service/transcribe)：将语音转换为文本
    - 对齐 (/service/align)：将转录文本与音频对齐
    - 分割 (/service/diarize)：说话人分割
    - 合并 (/service/combine)：将转录文本与区分大小写合并

    任务管理：
    - 获取所有任务 (/task/all)
    - 获取任务状态 (/task/{identifier})

    健康检查端点：
    - 基本健康检查 (/health)：简单的服务状态检查
    - 活跃度探测 (/health/live)：验证应用程序是否正在运行
    - 就绪度探测 (/health/ready)：检查应用程序是否已准备好接受请求（包括数据库连接检查）