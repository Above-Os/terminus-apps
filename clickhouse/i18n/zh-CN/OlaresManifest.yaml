metadata:
  description: 一个实时分析数据库管理系统
  title: ClickHouse

spec:
  fullDescription: |
    ClickHouse 是一个开源的列式数据库管理系统，可实现实时生成分析数据报表。

    主要特性
    真正的列式数据库管理系统（DBMS）
    存储数据时不附加多余信息（如长度），数据即使未压缩也能紧凑存储，最大化性能并尽量减少处理时的 CPU 占用。

    数据压缩
    使用高效的通用与专用压缩编码，这是提升性能、降低存储成本的关键因素。

    带索引的磁盘存储
    数据按主键物理排序，实现低延迟范围查询。设计可高效运行于普通硬盘（HDD），也能充分利用 SSD 和内存。

    并行与分布式处理
    大型查询会自动在服务器所有 CPU 核心间并行处理，且可无缝支持多分片（副本组）间的分布式查询。

    SQL 支持
    采用基于 SQL 的声明式查询语言，与 ANSI SQL 兼容性高。（注意：截至文档撰写时，不支持相关子查询。）

    向量化查询引擎
    数据按列以向量（列的片段）方式处理，提升 CPU 使用效率。

    实时数据插入
    支持基于主键的 MergeTree 引擎实现增量数据导入。新数据可在无锁情况下添加。

    主索引与辅助索引
    主索引：基于排序键快速检索数据。辅助索引（数据跳过索引）：使数据库跳过不符合查询条件的数据块，无需读取不相关数据。

    适合在线查询
    以亚秒级查询延迟为目标，支持交互式在线查询处理，而非离线报表生成。

    近似计算支持
    支持用速度换取精度，包括近似聚合函数、采样数据查询与对有限随机键的聚合。

    自适应 JOIN 算法
    根据涉及表的大小自动选择最佳 JOIN 策略（如哈希或归并 JOIN）。

    数据复制与完整性
    采用异步多主复制机制。一份副本上的数据会自动同步至其他副本，保证容错和自动恢复。

    基于角色的访问控制（RBAC）
    使用与标准关系型数据库类似的 SQL 语法实现用户账号和权限控制。

    注意事项（潜在不足）
    不支持完整的事务处理。不适合高频率、低延迟的单行更新/删除（批量操作可用）。稀疏索引导致对单行点查效率不高。
