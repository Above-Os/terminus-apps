---
olaresManifest.version: '0.10.0'
olaresManifest.type: app

metadata:
  name: ollamallama318b
  icon: https://app.cdn.olares.com/appstore/llm/ollama/llm/llama3.1-8b.png
  description: A new state-of-the-art model from Meta available in 8B, 70B and 405B parameter sizes.
  appid: ollamallama318b
  title: Llama 3.1 8B (Ollama)
  version: '1.1.6'
  categories:
    - AI

entrances:
  - name: api
    port: 8081
    host: api
    title: Llama 3.1 8B
    icon: https://app.cdn.olares.com/appstore/llm/ollama/llm/llama3.1-8b.png
    openMethod: default
  - authLevel: internal
    host: ollamaclient
    icon: https://app.cdn.olares.com/appstore/llm/ollama/llm/llama3.1-8b.png
    name: ollamaclient
    openMethod: default
    port: 8080
    title: Llama 3.1 8B API
    invisible: true

spec:
  versionName: 'llama3.1:8b-instruct-q4_K_M'
  fullDescription: |
    ## IMPORTANT NOTE ##
    This is a shared app. Once installed by the Olares Admin, all users in the cluster can use it through reference app.

    ## MODEL OVERVIEW ##
    The Meta Llama 3.1 collection of multilingual large language models (LLMs) is a collection of pretrained and instruction tuned generative models in 8B, 70B and 405B sizes (text in/text out). The Llama 3.1 instruction tuned text only models (8B, 70B, 405B) are optimized for multilingual dialogue use cases and outperform many of the available open source and closed chat models on common industry benchmarks.

    # Models
    Llama 3.1 family of models available:
    - 8B
    - 70B
    - 405B

    Llama 3.1 405B is the first openly available model that rivals the top AI models when it comes to state-of-the-art capabilities in general knowledge, steerability, math, tool use, and multilingual translation.
    The upgraded versions of the 8B and 70B models are multilingual and have a significantly longer context length of 128K, state-of-the-art tool use, and overall stronger reasoning capabilities. This enables Metaâ€™s latest models to support advanced use cases, such as long-form text summarization, multilingual conversational agents, and coding assistants.

  developer: Meta
  website: https://www.llama.com/
  sourceCode: https://huggingface.co/meta-llama/Llama-3.1-8B
  submitter: Olares
  locale:
    - en-US
    - zh-CN
  doc: https://www.llama.com/docs/model-cards-and-prompt-formats/llama3_1/
  license:
    - text: LLAMA 3.1 COMMUNITY LICENSE AGREEMENT
      url: https://ollama.com/library/llama3.1:8b/blobs/0ba8f0e314b4

  {{- if and .Values.admin .Values.bfl.username (eq .Values.admin .Values.bfl.username) }}
  limitedCpu: 6200m
  requiredCpu: 150m
  requiredDisk: 50Mi
  limitedDisk: 500Gi
  limitedMemory: 20Gi
  requiredMemory: 4200Mi
  requiredGpu: 0
  limitedGpu: 16Gi
  {{- else }}
  requiredMemory: 64Mi
  limitedMemory: 800Mi
  requiredDisk: 50Mi
  limitedDisk: 200Mi
  requiredCpu: 10m
  limitedCpu: 800m
  {{- end }}

  supportArch:
    - amd64
    - arm64

permission:
  appData: true
  appCache: true

options:
  apiTimeout: 0
  appScope:
  {{- if and .Values.admin .Values.bfl.username (eq .Values.admin .Values.bfl.username) }}
    clusterScoped: true
    appRef:
      - ollamallama318b
  {{- else }}
    clusterScoped: false
  {{- end }}
  dependencies:
    - name: olares
      version: '>=1.12.2-0'
      type: system
  {{- if and .Values.admin .Values.bfl.username (eq .Values.admin .Values.bfl.username) }}
  {{- else }}
    - name: ollamallama318b
      type: application
      version: '>=1.1.3'
      mandatory: true
  {{- end }}

provider:
- name: ollamallama318b
  entrance: ollamaclient
  paths: ["/*"]
  verbs: ["*"]